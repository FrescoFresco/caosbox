<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>CaosBox â€¢ beta</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <base href="/" />
    <link rel="icon" type="image/png" href="icons/Icon-192.png" />
    <script>
      window._flutter = window._flutter || {};
      window._flutter.buildConfig = {
        serviceWorker: null,
        renderer: "canvaskit",
        assetBase: "./"
      };
    </script>
    <script defer src="flutter.js"></script>
  </head>
  <body>
    <script>
      // Redirigir 404 de Pages a la SPA y arrancar Flutter
      (function () {
        const l = window.location;
        if (l.pathname !== "/") {
          const u = new URL("/", l.origin);
          u.searchParams.set("p", l.pathname + l.search + l.hash);
          window.history.replaceState(null, "", u.toString());
        }
      })();
      window.addEventListener("load", async () => {
        const loader = new FlutterLoader();
        const engineInitializer = await loader.load({ entrypointUrl: "main.dart.js" });
        const appRunner = await engineInitializer.initializeEngine();
        await appRunner.runApp();
      });
    </script>
  </body>
</html>
