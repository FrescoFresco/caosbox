<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
    />
    <title>CaosBox • beta</title>

    <!-- IMPORTANTE para GitHub Pages con dominio propio (raíz) -->
    <base href="/" />

    <!-- (Opcional) manifest; no registramos SW -->
    <link rel="manifest" href="manifest.json" />

    <!-- Limpia cualquier service worker viejo de builds anteriores -->
    <script>
      if ("serviceWorker" in navigator) {
        navigator.serviceWorker.getRegistrations().then((regs) =>
          regs.forEach((r) => r.unregister())
        );
      }
    </script>

    <!-- Config requerido por Flutter 3.32: evita "FlutterLoader.load requires _flutter.buildConfig..." -->
    <script>
      window._flutter = window._flutter || {};
      window._flutter.buildConfig = {
        renderer: "canvaskit",   // o "html" si prefieres
        assetBase: "/"           // sirve assets desde la raíz del dominio
      };
    </script>

    <style>
      html,body {height:100%;margin:0;background:#0b0b0b;color:#ddd;}
      #loading {
        position:fixed; inset:0; display:flex; align-items:center; justify-content:center;
        font-family: system-ui, -apple-system, Segoe UI, Roboto; letter-spacing:.2px;
      }
    </style>
  </head>
  <body>
    <noscript>Necesitas habilitar JavaScript para usar esta aplicación.</noscript>
    <div id="loading">Cargando CaosBox…</div>

    <!-- Script de arranque de Flutter (no cambies el nombre) -->
    <script src="flutter_bootstrap.js" defer></script>
  </body>
</html>
